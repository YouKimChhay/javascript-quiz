<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Javascript Quiz</title>

        <link rel="stylesheet" href="./assets/css/style.css" />
        <script src="./assets/files/quiz1.json" type="application/json" defer></script>
        <script src="./assets/files/quiz2.json" type="application/json" defer></script>
        <script src="./assets/files/quiz3.json" type="application/json" defer></script>
        <script src="./assets/js/main.js" type="module" defer></script>
        <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script> <!-- refer to https://handlebarsjs.com/ -->
    </head>

    <body>
        <div id="content"></div>

        <!-- templates start-->

        <!-- home template -->
        <script id="home-template" type="text/x-handlebars-template">
            <header id="header">
                <p><a href="#" id="view-high-score-link">View High Score</a></p>
            </header>
            <main id="main">
                <h2>JavaScript Quiz</h2>
                <h3>The Quiz</h3>
                <p>Each quiz contains a set of questions and a time limit. <br/>
                    It can be used to test your JavaScript skill.</p>
                <p>
                    Quiz 1 has 10 questions and a time limit of 200s. <br/>
                    The quiz is adapted from <a href="https://www.javatpoint.com/javascript-quiz">JavaTPoint</a>.
                </p>
                <p>
                    Quiz 2 has 10 questions and a time limit of 200s. <br/>
                    The quiz is adapted from <a href="https://www.tutorialspoint.com/javascript/javascript_online_quiz.htm">TutorialsPoint</a>.
                </p>
                <p>
                    Quiz 3 has 30 questions and a time limit of 300s. <br/>
                    The quiz is adapted from <a href="https://www.w3schools.com/js/js_quiz.asp">W3Schools</a>.
                </p>
                <h3>Scoring</h3>
                <p>Each correct answer gives you 1 score.</p>
                <p>Each incorrect answer costs you 10 seconds.</p>
                <p>You can record your score after finish the quiz.</p>
                <div class="buttons">
                    <button type="submit" id="start-quiz1-btn" class="btn">Start Quiz 1</button>
                    <button type="submit" id="start-quiz2-btn" class="btn">Start Quiz 2</button>
                    <button type="submit" id="start-quiz3-btn" class="btn">Start Quiz 3</button>
                </div>
            </main>
        </script>

        <!-- quiz template -->
        <script id="quiz-template" type="text/x-handlebars-template">
            <header id="header">
                <p><a href="#" id="view-high-score-link">View High Score</a></p>
                <p id="timer">Timer: {{timer}}</p>
            </header>
            <main id="main">
                <p id="question">{{question}}</p>
                <ul id="answer">
                    {{#each answer}}
                        <li class="ans" id="{{@index}}">{{this}}</li>
                    {{/each}}
                </ul>
            </main>
        </script>

        <!-- finish and record score template -->
        <script id="finish-template" type="text/x-handlebars-template">
            <header id="header">
                <p><a href="#" id="view-high-score-link">View High Score</a></p>
            </header>
            <main id="main">
                <p>All done!</p>
                <p>Correct answer: {{score}}/{{nQuestions}}</p>
                <p>Time remained: {{timer}}</p>
                <div id="store-score-form">
                    <label for="initial">Enter Your Initial:</label>
                    <input type="text" id="initial" placeholder="Your Initial" />
                    <button type="submit" id="initial-submit-btn" class="btn">Submit</button>
                </div>
                <div id="error-message">
                    <p>{{error}}</p>
                </div>
            </main>
        </script>

        <!-- high score template -->
        <script id="high-score-template" type="text/x-handlebars-template">
            <main id="main">
                <h2>High Scores</h2>
                {{#if scores}}
                    <ul id="score-list">
                        {{#each scores}}
                            <li class="score-list-item score-list{{this.quiz}}">Quiz {{this.quiz}}: {{this.initial}} - {{this.score}}</li>
                        {{/each}}
                    </ul>
                {{else}}
                    <p>No entry yet!</p>
                {{/if}}
                <div class="buttons">
                    <button type="submit" id="go-back-btn" class="btn">Go Back</button>
                    <button type="submit" id="clear-high-score-btn" class="btn">Clear High Score</button>
                </div>
            </main>
        </script>

        <!-- templates end-->

    </body>
</html>